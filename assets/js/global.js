function knack_enable_nav(){var a=jQuery(window).scrollTop();jQuery(window).on("scroll",function(){(a=jQuery(window).scrollTop())>200?jQuery(".heading-wrap").addClass("heading-sticky"):jQuery(".heading-wrap").removeClass("heading-sticky")})}function knack_get_options(){jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"knack_get_options"},dataType:"json"}).done(function(a){knack_global_options=a,knack_sidebar()}).fail(function(a){})}function knack_enable_save(a){a?(jQuery(".save-button").removeClass("no-save").bind("click"),knack_save(),knack_save_status=!0):(jQuery(".save-button").addClass("no-save").unbind("click"),knack_save_status=!1)}function knack_save(){jQuery(".save-button").off().on("click",function(){knack_loader("show"),jQuery.ajax({url:ajaxurl,type:"POST",data:{options:JSON.stringify(knack_global_options),action:"knack_save"},dataType:"json"}).done(function(a){knack_loader("hide"),knack_enable_save(!1)}).fail(function(a){})})}function knack_sidebar(){jQuery(".knack-settings .sidebar li").off().on("click",function(){if(knack_loader("show"),jQuery("*").removeClass("knack-active"),jQuery(this).attr("data-slug")){var a=jQuery(this).attr("data-slug");jQuery.ajax({url:ajaxurl,type:"POST",data:{slug:a,dir:global_theme_directory,options:knack_global_options,action:"knack_get_includes"},dataType:"html"}).done(function(n){knack_loader("hide"),jQuery("body").find(".load-elements").html(n),jQuery.getScript(global_theme_directory+"/knack/includes/js/sub."+a+".js",function(a,n,e){knack_run()});var e=jQuery(".knack-settings .options").height();jQuery(".knack-settings .sidebar").height(e)}).fail(function(a){})}jQuery(this).addClass("knack-active")}),jQuery(".knack-settings .sidebar li").first().trigger("click")}function knack_loader(a){var n=jQuery(".knack-settings").height();jQuery(".animate-loader").height(n),"show"===a?jQuery(".animate-loader").show():jQuery(".animate-loader").hide()}function knack_google_fonts(){jQuery.ajax({url:"https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyCe3XGw8IKuzIXe7bL6ZQc1xbe3MX5DR-s",type:"GET",dataType:"json"}).done(function(a){knack_google_search(knack_global_fonts=a.items)}).fail(function(){})}function knack_google_search(a){jQuery(a).each(function(a,n){knack_global_fonts_search.push(n.family)})}function knack_google_options(a){var n="";jQuery(a).each(function(a,e){jQuery(knack_global_fonts_search).each(function(a,e){n+="<option value='"+e+"'>"+e+"</option>"}),jQuery("#"+e).html(n)})}function knack_weight(a,n){var e=jQuery("#family"+a);jQuery(e).on("change",function(){var n=jQuery(this).children("option:selected").val();knack_set_weight(a,n)})}function knack_set_weight(a,n){var e="";jQuery(knack_global_fonts).each(function(a,o){o.family===n&&jQuery(o.variants).each(function(a,n){e+='<option value="'+n+'">'+n+"</option>"})}),jQuery("#weight"+a).html(e)}var knack_global_options,knack_global_fonts,knack_global_fonts_search=[],knack_save_status=!1;jQuery(document).ready(function(){knack_get_options(),knack_enable_save(!1),knack_google_fonts(),knack_enable_nav()});